<html>
<head>
<link rel="stylesheet" href="style\style.css">
<link rel="stylesheet" href="bootstrap-4.6.2-dist\css\bootstrap.min.css">
<script src="jquery-3.7.1.slim.js"></script>
<script src="bootstrap-4.6.2-dist\js\bootstrap.bundle.min.js"></script>
<script src="bootstrap-4.6.2-dist\js\bootstrap.bundle.min.js"></script>
</head>

<body>

<div class="row">
<div class="col-sm-3"></div>
<div class="col-sm-6">
	<h1> Delete Form </h1>
	<a href="display.html" class="btn btn-dark">Return</a><br><br>
	<form id="delete_form" method="post">
		<div class="form-group">
			<label for="site">Site</label>
			<input id="site" class="form-control" name="site" type="text">
		</div>
		<div class="form-group">
			<label for="user">Username</label>
			<input id="user" class="form-control" name="user" type="text">
		</div>
		<div class="form-group">
			<input id="logf_submit" class="btn" type="submit">
		</div>
	</form>
</div>
<div class="col-sm-3"></div>
</div>

<script>
// to-edit
document.getElementById("delete_form").addEventListener("submit", async function(e) {
    e.preventDefault();

    const site = document.getElementById("site").value;
    const user = document.getElementById("user").value;

    const response = await fetch("/api/deleteEntry", {
        method: "DELETE",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ site, user })
    });

    const data = await response.json();
    alert(data.msg);
});
</script>

</body>
</html>